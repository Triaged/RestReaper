////////////////////////////////////////////////////////////////////////////////////////////////////
//
//  RRObject.m
//
//  Created by Dalton Cherry on 10/25/13.
//
////////////////////////////////////////////////////////////////////////////////////////////////////

#import "RRObject.h"

@implementation RRObject

////////////////////////////////////////////////////////////////////////////////////////////////////
+(void)reapIndex:(void (^)(Reaper *reaper,NSArray* objects))success
failure:(void (^)(Reaper *reaper, NSError *error))failure
{
    NSString* route = [self restRoute];
    NSString* url = route;
    if(![route hasPrefix:@"/"])
        url = [NSString stringWithFormat:@"/%@",[self restRoute]];
    [[self reaperType] reapIndex:[self class] url:url parameters:nil success:success failure:failure];
}
////////////////////////////////////////////////////////////////////////////////////////////////////
+(Reaper*)reaperType
{
    return [Reaper sharedReaper];
}
////////////////////////////////////////////////////////////////////////////////////////////////////
+(NSString*)restRoute
{
    //need to throw an error if the base class is implemented,
    //as this has to be overridden to work properly.
    return nil;
}
////////////////////////////////////////////////////////////////////////////////////////////////////

@end
